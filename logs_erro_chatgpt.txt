ERRO WHATSAPP BAILEYS - TIMEOUT UPLOADPREKEYS + ERROR 428

PROBLEMA ATUAL:
‚úÖ getUserAgent corrigido (version array v√°lido)
‚úÖ QR Code sendo gerado (7978 caracteres)
‚úÖ fetchLatestBaileysVersion() funcionando - vers√£o: [ 2, 3000, 1023223821 ]
‚ùå TIMEOUT em uploadPreKeys ap√≥s gerar QR Code
‚ùå Error 428 "Connection Terminated by Server"
‚ùå Promise rejeitada n√£o tratada - statusCode 408

LOGS COMPLETOS DO ERRO:

üåê WA Web version obtida: [ 2, 3000, 1023223821 ]
üîß Criando socket com vers√£o: [ 2, 3000, 1023223821 ]

‚úÖ [BAILEYS] QR DataURL gerado, length: 7978
üîç [BAILEYS] DataURL v√°lido: true

‚ùå [BAILEYS] Promise rejeitada n√£o tratada: Error: Timed Out
    at /home/runner/workspace/node_modules/@whiskeysockets/baileys/lib/Utils/generics.js:151:32 {
  data: {
    stack: 'Error\n' +
      '    at promiseTimeout (/home/runner/workspace/node_modules/@whiskeysockets/baileys/lib/Utils/generics.js:146:19)\n' +
      '    at waitForMessage (/home/runner/workspace/node_modules/@whiskeysockets/baileys/lib/Socket/socket.js:120:61)\n' +
      '    at query (/home/runner/workspace/node_modules/@whiskeysockets/baileys/lib/Socket/socket.js:144:13)\n' +
      '    at /home/runner/workspace/node_modules/@whiskeysockets/baileys/lib/Socket/socket.js:204:19)\n' +
      '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
      '    at async Object.transaction (/home/runner/workspace/node_modules/@whiskeysockets/baileys/lib/Utils/auth-utils.js:135:26)\n' +
      '    at async uploadPreKeys (/home/runner/workspace/node_modules/@whiskeysockets/baileys/lib/Socket/socket.js:201:9)\n' +
      '    at async uploadPreKeysToServerIfRequired (/home/runner/workspace/node_modules/@whiskeysockets/baileys/lib/Socket/socket.js:213:13)\n' +
      '    at async WebSocketClient.<anonymous> (/home/runner/workspace/node_modules/@whiskeysockets/baileys/lib/Socket/socket.js:514:9)'
  },
  isBoom: true,
  isServer: false,
  output: {
    statusCode: 408,
    payload: {
      statusCode: 408,
      error: 'Request Time-out',
      message: 'Timed Out'
    },
    headers: {}
  }
}

DEPOIS DO TIMEOUT, ERRO 428:
üîÑ [BAILEYS] CONNECTION UPDATE RECEBIDO: {
  "connection": "close",
  "lastDisconnect": {
    "error": {
      "output": {
        "statusCode": 428,
        "payload": {
          "statusCode": 428,
          "error": "Precondition Required",
          "message": "Connection Terminated by Server"
        }
      }
    }
  }
}

CONFIGURA√á√ÉO ATUAL BAILEYS:
version: [ 2, 3000, 1023223821 ]  // fetchLatestBaileysVersion() real
defaultQueryTimeoutMs: 120000
connectTimeoutMs: 120000
keepAliveIntervalMs: 15000
networkIdleTimeoutMs: 60000
qrTimeout: 180000
retryRequestDelayMs: 5000
maxMsgRetryCount: 5
fireInitQueries: false

SEQU√äNCIA DE EVENTOS:
1. fetchLatestBaileysVersion() obt√©m [ 2, 3000, 1023223821 ] ‚úÖ
2. makeWASocket() criado com vers√£o v√°lida ‚úÖ
3. QR Code gerado corretamente (7978 chars) ‚úÖ
4. uploadPreKeys tenta fazer handshake criptogr√°fico ‚ùå
5. waitForMessage timeout ap√≥s 120s (statusCode 408) ‚ùå
6. Servidor termina conex√£o (statusCode 428) ‚ùå
7. Sistema tenta reconectar automaticamente ‚Üª

AMBIENTE:
- Plataforma: Replit (limita√ß√µes de rede conhecidas)
- Baileys: @whiskeysockets/baileys (latest)
- Node.js: v20.18.1
- Vers√£o WA real: [ 2, 3000, 1023223821 ]

QUEST√ÉO PARA CHATGPT:
1. Como resolver timeout no uploadPreKeys (sincroniza√ß√£o de chaves criptogr√°ficas)?
2. QR Code √© gerado mas processo falha no handshake com servidores WhatsApp
3. Error 408 + 428 indicam problemas de rede/firewall no Replit?
4. Precisa configurar proxy, usar Evolution API externa ou outro m√©todo?
5. Poss√≠vel solu√ß√£o alternativa que funcione no ambiente Replit?
Instruções para corrigir `useMultiFileAuthState is not a function`

1. **Verifique a versão do Baileys**
   - No `package.json`, confirme que você tem:
     ```
     "@whiskeysockets/baileys": "^4.0.0"
     ```
   - Se não, instale/atualize:
     ```
     npm install @whiskeysockets/baileys@latest
     ```

2. **Ajuste a importação no `clientWhatsAppService.ts`**
   - Substitua qualquer importação dinâmica de `this.baileys` por importações estáticas:
     ```ts
     // Remova: this.baileys.useMultiFileAuthState
     // Adicione no topo do arquivo:
     import makeWASocket,
            { useMultiFileAuthState,
              DisconnectReason,
              fetchLatestBaileysVersion
            } from '@whiskeysockets/baileys';
     ```
   - Exemplo:
     ```ts
     // Antes
     const { state, saveCreds } = await this.baileys.useMultiFileAuthState(path);

     // Depois
     const { state, saveCreds } = await useMultiFileAuthState(path);
     ```

3. **Remova referências a `this.baileys` na instância**
   - Se você fazia `this.baileys.makeWASocket`, troque para:
     ```ts
     const socket = makeWASocket({ /* opções */ });
     ```
   - Garanta que `fetchLatestBaileysVersion` e `DisconnectReason` sejam usados diretamente.

4. **Exemplo completo de bloco de autenticação**
   ```ts
   import makeWASocket,
          { useMultiFileAuthState,
            fetchLatestBaileysVersion,
            DisconnectReason
          } from '@whiskeysockets/baileys';

   async function connectClient(clientId: string) {
     const sessionPath = `${process.env.WHATSAPP_SESSION_PATH}/${clientId}`;
     const { state, saveCreds } = await useMultiFileAuthState(sessionPath);

     let version: number[];
     try {
       const { version: v } = await fetchLatestBaileysVersion();
       version = v;
     } catch {
       version = [2, 2419, 6];
     }

     const socket = makeWASocket({
       version,
       auth: state,
       printQRInTerminal: false,
       // ... suas opções ...
     });

     socket.ev.on('creds.update', saveCreds);
     // ... restante da lógica ...
   }
   ```

5. **Recompile e teste**
   - Rode:
     ```
     npm run dev
     ```
   - Acesse `/api/whatsapp-client/connect` no seu frontend.
   - Verifique no console do Replit que não ocorre mais o erro `useMultiFileAuthState is not a function`.

Salve este conteúdo como `fix_import_auth_state.txt` no Replit.

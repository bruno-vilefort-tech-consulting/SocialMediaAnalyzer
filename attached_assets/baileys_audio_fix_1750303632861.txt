üìã CORRE√á√ÉO URGENTE ‚Äì AUDIO_DOWNLOAD FALHANDO NO BAILEYS

Problema: `downloadMediaMessage` retorna ‚ÄúNo message present‚Äù ‚Üí √°udio n√£o √© baixado, logo n√£o vai para Firebase nem Whisper.

‚úÖ OBJETIVO
‚Ä¢ Baixar qualquer √°udio (PTT) enviado pelo candidato  
‚Ä¢ Salvar no Firebase Storage  
‚Ä¢ Transcrever com Whisper e gravar no Firestore  

‚öôÔ∏è CAUSA RAIZ
Baileys v8+ por vezes entrega apenas um ‚Äústub‚Äù (payload incompleto). O handler dispara antes do corpo real chegar, ent√£o `downloadMediaMessage` falha.

üîß PASSOS PARA RESOLVER

1. Atualizar Baileys  
```
npm install @whiskeysockets/baileys@latest
```

2. Recarregar a mensagem completa antes de baixar  
```js
const { downloadContentFromMessage } = require('@whiskeysockets/baileys')

sock.ev.on('messages.upsert', async ({ messages }) => {
  const msg = messages[0]
  if (msg.key.fromMe) return

  const full = msg.message?.audioMessage
    ? msg
    : await sock.messageStore.loadMessage(msg.key.remoteJid, msg.key.id)

  if (!full?.message?.audioMessage) {
    console.error('√Åudio ainda n√£o dispon√≠vel ‚Äì retry em 3 s')
    return setTimeout(() =>
      sock.ev.emit('messages.upsert', { messages: [msg] }), 3000)
  }

  const stream = await downloadContentFromMessage(
    full.message.audioMessage, 'audio'
  )
  const chunks = []
  for await (const chunk of stream) chunks.push(chunk)
  const buffer = Buffer.concat(chunks)
  // salvar buffer em Firebase e transcrever...
})
```

3. Tratar View‚ÄëOnce / Ephemeral  
```js
const audioMsg = full.message.viewOnceMessageV2
  ? full.message.viewOnceMessageV2.message.audioMessage
  : full.message.audioMessage
```

4. Keep‚Äëalive e reconex√£o  
```js
setInterval(() => sock.sendPresenceUpdate('available'), 25000)
```

5. Testar: escanear QR, responder em √°udio, conferir que:
   ‚Ä¢ arquivo salva em `audios/` no Storage  
   ‚Ä¢ texto transcrito aparece no Firestore  
   ‚Ä¢ relat√≥rios exibem respostas

(Alterar somente arquivos de conex√£o WhatsApp/Firebase; resto do sistema permanece intacto.)
# Resolução do erro "you must provide a model parameter"

1. Verifique o envio de FormData:
   - Assegure que exista:
     formData.append('model', 'whisper-1')
   - Não defina manualmente 'Content-Type'; deixe o `form-data` cuidar do boundary.

2. Pare instâncias antigas:
   - Interrompa processos em cache (Docker, PM2, etc).
   - Confirme que não há processos rodando com código antigo.

3. Recrie e redeploy:
   - Puxe o código atualizado com a linha de `model`.
   - Reinicie o serviço para garantir todas as instâncias atualizadas.

4. Teste manual:
   - Envie um arquivo `.ogg` pequeno.
   - Confirme que não aparece mais “you must provide a model parameter”.

# Exemplo de implementação corrigida
```ts
import FormData from 'form-data';
import fs from 'fs';
import path from 'path';
import fetch from 'node-fetch';

export async function transcribeAudio(filePath: string): Promise<string> {
  const formData = new FormData();
  formData.append('file',
    fs.createReadStream(filePath),
    {
      filename: path.basename(filePath),
      contentType: 'audio/ogg'
    }
  );
  formData.append('model', 'whisper-1');

  const response = await fetch(
    'https://api.openai.com/v1/audio/transcriptions',
    {
      method: 'POST',
      headers: {
        Authorization: `Bearer ${process.env.OPENAI_API_KEY}`
      },
      body: formData as any
    }
  );

  if (!response.ok) {
    const errorBody = await response.json();
    throw new Error(`API error ${response.status}: ${JSON.stringify(errorBody)}`);
  }

  const data = await response.json();
  return data.text;
}
```
